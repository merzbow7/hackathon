## Инструкция по использованию
### Сценарий работы
1. Пользователь заходит в телеграм-бот https://t.me/rolling_steel_bot, нажимает кнопку /start и авторизуется. 

   Если бот используется под разными учетными записями, то лучше открывать в режиме инкогнито). По умолчанию у пользователя нет доступа ни к каким учреждениям.
3. Администратор заходит в веб-интерфейс http://83.166.237.76:3000/ и выставляет права пользователю (учреждение - "Школа 21").

   В случае, если под этой учетной записью уже есть пользователь, администратор может его удалить. Под одной учетной записью может быть только один пользователь.
4. Пользователь может взаимодействовать с ботом

### Учетные записи
- Пароли всех пользователей и администратора: 4hakat0n
- Администратор веб портала - web_admin
- Тестовые пользователи 
    - test_user1 (Лев Толстой)
    - test_user2 (Илон Маск)
    - test_user3 (Тейлор Свифт)
 
### Адреса 
1. Swagger - http://83.166.237.76:5000/docs
2. фронт - 83.166.237.76:3000
3. бэк - 83.166.237.76:5000
4. кейклок - 83.166.237.76:8080

## Инструкция по разворачиванию и использованию на локальном хосте
### Сценарий работы
1. Зарегистрировать и получить токен бота https://t.me/BotFather
2. ```cp .env.example .env```
3. Изменить BOT_TOKEN в файле .env на полученный токен
4. ```docker compose up --build```

## Запуск проекта
1. Зарегистрировать и получить токен бота https://t.me/BotFather
2. ```cp .env.example .env```
3. Изменить BOT_TOKEN в файле .env на полученный токен
4. ```docker compose up --build```

## Адреса 
1. фронт - 127.0.0.1:3000
2. бэк - 127.0.0.1:5000
3. кейклок - 127.0.0.1:8080

## Данные и пароли
- Пароль администратора Keycloak можно изменить в файле .env KEYCLOAK_ADMIN_PASSWORD
- По умолчанию создан нужный реалм и клиенты для бэка и фронта
- Пароли всех пользователей Кейклок: 4hakat0n
- Администратор веб портала - web_admin
- тестовые пользователи 
    - test_user1 (Лев Толстой)
    - test_user2 (Илон Маск)
    - test_user3 (Тейлор Свифт)
- Администратор должен назначить учреждение пользователю через веб портал(фронт)
- По умолчанию все остатки и контракты связаны с первым учреждением в базу(Школа 21)   
